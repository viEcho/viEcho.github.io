---
title: linux上安装redis
myPath: install-redis-linux
categories:
- linux
tags: redis
date:
cover: ../images/linux/21/4/23/linux_redis.jpeg
---

## 安装步骤
#### 下载安装包
作为一名开发，面试最常问的恐怕就有你们开发过程中用过什么缓存？能否简单谈谈redis等等
so,作为一个可基于内存持久化的、日志级别的、非关型数据库，学习和掌握好它还是很有必要的。
上面mysql 安装到了usr下面  所有我也会将redis安装到其下
进入到usr目录下：`cd /usr`
下载安装包：
`wget http://download.redis.io/releases/redis-5.0.5.tar.gz`
打开服务器目录刷新就会看到对应的包在usr下生成了:
![](https://s2.ax1x.com/2020/02/05/1sVoj0.png)

解压:`tar xzf redis-5.0.5.tar.gz`
查看解压后的文件：`ls -al`
![](https://s2.ax1x.com/2020/02/05/1sVbHU.png)

#### 安装，配置后台运行
进入安装目录：`cd redis-5.0.5`
安装：`make`
--接下来一定要执行: `make install`  此命令意思是拷贝redis的相关文件到/usr/local/bin这个目录下 不执行这个命令将不执行`redis-server redis.conf`这个命令是不会执行的
进入当前src 目录下，会有redis服务端程序redis-server和用于测试的客户端程序redis-cli
进入src目录：`cd src`
查看对应的文件：`ls -al`
配置redis.conf文件，将redis设为后台运行
redis默认不是守护进程，也就是说只要在linux上做了其他操作、或者exit强制退出、或者关闭连接工具（putty/xshell）等，都会导致redis进程退出，这样非常的麻烦，所以需要让redis服务端在后台运行，即守护进程模式。当redis.conf配置文件中，daemonize属性值设为yes时，代表开启守护进程。
编辑redis.conf文件：`vi redis.conf`
搜索对应的配置：`/daemonize`
![](https://s2.ax1x.com/2020/02/05/1sVX4J.png)

将no改为yes: 按i进入编辑模式  改完esc退出编辑模式   回车 输入:wq!保存并退出
----redis数据库默认不设密码，但这样会自动开启保护模式，只能本地访问，不能远程访问。所以为了能远程访问，就必须设置密码
配置密码：`vi redis.conf `
搜索redis密码：`/requirepass foobared ` 改为123456 同上保存并退出
![](https://s2.ax1x.com/2020/02/05/1sZ9u6.png)

#### 启动配置：
进入到bin目录下安装启动配置：
`cd /usr/redis-5.0.5`
`./utils/install_server.sh`
默认的配置文件是6379.conf
默认的日志文件是redis_6379.log
默认的运行实例是6379
![](https://s2.ax1x.com/2020/02/05/1sZegI.png)

直接启动：`service redis_6379 start`
停止：`service redis_6379 stop`
查看进程：`ps -aux | grep redis`
启动和停止可以看到 进程的变化
![](https://s2.ax1x.com/2020/02/05/1sZUK0.png)

配置公网链接：为了是其他机器能够链接这台服务器
需要更改配置将redis.conf中bind 127.0.0.1注释掉！
执行：`cd /usr/redis-5.0.5`
`vi redis.conf` 修改 完成后 需要重复执行 上面的“启动配置" 步骤 让修改的配置生效
![](https://s2.ax1x.com/2020/02/05/1sZD54.png)

查看进程：`ps -aux | grep redis`
![](https://s2.ax1x.com/2020/02/05/1sZsPJ.png)

杀掉进程：`kill -9 进程号`
重启redis: `service redis_6379 start`
![](https://s2.ax1x.com/2020/02/05/1sZRr6.png)

后面的server * 代表允许所有的ip访问
此时再用redis 客户端链接测试  链接成功！
![](https://s2.ax1x.com/2020/02/05/1sZ5Ie.png)

#### 连接测试
那链接上了，我们来测试一下：
![](https://s2.ax1x.com/2020/02/05/1sZ7RA.png)

刷新客户端看下有没有写进来：ok 写进来了
![](https://s2.ax1x.com/2020/02/05/1seCzn.png)

好了，那么这个地方16个 db又是代表什么意思呢？学东西还是要有不断追问的能力，当你一步一步的自我解答寻找答案的时候就是慢慢掌握的时候！
Redis支持多个数据库，并且每个数据库的数据是隔离的不能共享，并且基于单机才有，如果是集群就没有数据库的概念。
Redis是一个字典结构的存储服务器，而实际上一个Redis实例提供了多个用来存储数据的字典，客户端可以指定将数据存储在哪个字典中，这1-16其实就是代表16个字典！
那么怎么用呢？  像sql语句一样  但是又不是  redis一个实例下默认有16个字典库，select 1代表选用1号字典库，同一个库中插入相同的key 后面的value值将会覆盖前面的值！
![](https://s2.ax1x.com/2020/02/05/1seVdU.png)

看看字典1库中值：
![](https://s2.ax1x.com/2020/02/05/1senJJ.png)

自此，我们已经完成了redis 单台服务器的搭建测试和客户端工具的测试！