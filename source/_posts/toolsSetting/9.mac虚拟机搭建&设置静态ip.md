---
title: mac虚拟机搭建&设置静态ip
myPath: mac-virtual-machine-static-ip
categories:
- toolsSetting
tags:
date:
cover: ../images/toolsSetting/22/4/18/mac_virtual.jpeg
---

## 搭建步骤
### mac下载VMwareFunction
[下载地址]("https://www.vmware.com/")
vMware针对个人开发者是免费的，用邮箱填写一个账号，填写个人信息即可获取激活码，这个自己摸索即可

### 下载虚拟机镜像
[ali镜像](https://mirrors.aliyun.com/centos-vault/6.10/isos/x86_64/)

### 镜像安装
启动vMware，将下载的镜像拖到vMware中即可，为了保证方便数据传输，注意勾选下面的与
本机共享读写即可，输入账号密码后，傻瓜式安装即可；

### 读取ip
虚拟机安装后，会提示你输入密码进入，输入之前自己设置的密码即可进入虚拟机桌面
进入虚拟机桌面后，右键-》open in Terminal输入ipconfig即可看到虚拟机的ip

### 设置虚拟机静态ip
你搭建了虚拟机，为了后面搭建集群啥的方便，肯定要设置这个静态ip的；如果你不小心没配置，那么恭喜你，你后面集群搭好了，mac地址随着时间过期，或者网络断了重连，那么ip就会变化，那么你辛辛苦苦搞的配置也要重新配了；

```sh
#打开mac终端
cat /Library/Preferences/VMware\ Fusion/vmnet8/nat.conf | grep "ip = "
cat /Library/Preferences/VMware\ Fusion/vmnet8/nat.conf | grep "netmask = "
ip = 172.14.2.2 #mac的网管
netmask = 255.255.255.0 #子网掩码

#mac终端连接虚拟机
ssh root@172.14.2.xxx #你在虚拟机中ifconfig看到的ip
#输入密码连接上后
vim /etc/sysconfig/network-scripts/ifcfg-eth0

#BOOTPROTO="dhcp" #注释掉
BOOTPROTO="static"
IPADDR=配置为你想配置的ip
NETMASK=255.255.255.0
GATEWAY=172.16.2.2
DNS=8.8.8.8 #可以不配置，你也打开你网络看下DNS那里是多少给配上

HWADDR="00:0C:29:9E:B3:45" #不要轻易修改
IPV6INIT="yes"
#NM_CONTROLLED="yes" #注释掉
ONBOOT="yes"
TYPE="Ethernet"
UUID="069c3a30-4ea0-46fc-805c-300c282cda75" #一定不能改,虚拟机安装的唯一标识，否则出现不可预料的问题只有重装虚拟机镜像了
# 保存后执行如下命令，重启虚拟机网络测试
service restart network
ping www.baidu.com
#发现ping不通了，使用如下命令
echo nameserver 8.8.8.8 > /etc/resolv.conf
echo nameserver 8.8.4.4 > /etc/resolv.conf
```
[linux的nameserver-域名服务器](https://blog.csdn.net/hahachenchen789/article/details/52295087)



